<html>
<head>
    <title>Document</title>

    <link rel="stylesheet" href="style.css">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
    
    <div id="content_container">

        <img id="My_pic"
        src="assets/mrbiiiiisssss.png">

        <div class="Txt_My_pic">
            <div>
                <label class="Txt_Name">Name</label>
            </div>
            <div>
                <label class="Txt_Description">Full-stack web developer</label>
            </div>
        </div>

        <p></p>

    </div>


    <div id="navbar_container">

        <div class="Logo_container">
            <label>
                Logo
            </label>
        </div>

        <div id="btn_nav_Menu" class="option_container_unclicked">

            <div class="option_wrapper">
    
                <div class="options_div">
    
                    <div class="dot_div"></div>
    
                    <div id="direct_About_req" class="option_btn">
                        <label>About</label>
                    </div>
    
                </div>
                
                <div class="options_div">
    
                    <div class="dot_div"></div>
    
                    <div id="direct_Projects_req" class="option_btn">
                        <label>Projects</label>
                    </div>
    
                </div>
                
                <div class="options_div">
    
                    <div class="dot_div"></div>
    
                    <div id="direct_Contacts_req" class="option_btn">
                        <label>Contacts</label>
                    </div>
    
                </div>
    
            </div>
    
        </div>

    </div>


    <!--Menu Button Script-->
    <script>
        const openMenuBtn = document.querySelector('#btn_nav_Menu');

        const btnAbout = document.querySelector('#direct_About_req');
        const btnProjects = document.querySelector('#direct_Projects_req');
        const btnContacts = document.querySelector('#direct_Contacts_req');

        const option_btn = document.querySelectorAll('.options_div');
        
        //expanded menu design
        var expdScreenSize = window.matchMedia("(min-width: 600px)");

        function checkingScreenSize(expdScreenSize) 
        {
            //expanded mode ----------------
            if (expdScreenSize.matches)
            {
                var wipeAllClass = document.querySelector('#btn_nav_Menu');
                wipeAllClass.className = "";

                openMenuBtn.classList.add('option_container_expanded');
                    // option_btn.forEach((OButtons) => {
                    //     OButtons.setAttribute('tabindex', '0');
                    // });
                btnAbout.setAttribute('tabindex', '0');
                btnProjects.setAttribute('tabindex', '0');
                btnContacts.setAttribute('tabindex', '0');
                
                const addEnterKeyListener = (element) => {

                btnAbout.addEventListener('keyup', (event) => {
                    if (event.key === 'Enter') {
                        window.location.href = 'about/';
                    }
                });

                btnProjects.addEventListener('keyup', (event) => {
                    if (event.key === 'Enter') {
                        window.location.href = 'projects/';
                    }
                });

                btnContacts.addEventListener('keyup', (event) => {
                    if (event.key === 'Enter') {
                        window.location.href = 'contacts/';
                    }
                });
                
                }
                addEnterKeyListener(btnAbout);

            }
            //not expanded mode --------------
            else
            {
                var wipeAllClass = document.querySelector('#btn_nav_Menu');
                wipeAllClass.className = "";

                openMenuBtn.classList.add('option_container_unclicked');
                    // option_btn.forEach((OButtons) => {
                    //     OButtons.removeAttribute('tabindex', '0');
                    // }); 
                btnAbout.removeAttribute('tabindex');
                btnProjects.removeAttribute('tabindex');
                btnContacts.removeAttribute('tabindex');
                
                //clicked and unclicked ---------------
                if (!openMenuBtn.classList.contains('option_container_expanded') && !expdScreenSize.matches) 
                {
                    openMenuBtn.addEventListener('click', () => 
                    {
                        if (!expdScreenSize.matches && !openMenuBtn.classList.contains('option_container_expanded')) 
                        {
                            var wipeAllClass = document.querySelector('#btn_nav_Menu');
                            wipeAllClass.className = "";

                            openMenuBtn.classList.add('option_container_clicked');
                        }
                    });

                    window.addEventListener('click', (event) => {
                        if (!openMenuBtn.contains(event.target) && event.target !== openMenuBtn 
                        && !expdScreenSize.matches && !openMenuBtn.classList.contains('option_container_expanded')) 
                        {
                            var wipeAllClass = document.querySelector('#btn_nav_Menu');
                            wipeAllClass.className = "";

                            openMenuBtn.classList.add('option_container_unclicked'); 
                        }
                    });
                    window.addEventListener('scroll', (event) => {
                        if (!openMenuBtn.contains(event.target) && event.target !== openMenuBtn 
                        && !expdScreenSize.matches && !openMenuBtn.classList.contains('option_container_expanded')) 
                        {
                            var wipeAllClass = document.querySelector('#btn_nav_Menu');
                            wipeAllClass.className = "";

                            openMenuBtn.classList.add('option_container_unclicked');
                        }
                    });
                }
            }       
        }

        checkingScreenSize(expdScreenSize);

        window.addEventListener('resize', function() {
            checkingScreenSize(expdScreenSize);
        });


        //navigation
        

        btnAbout.addEventListener('click', () => {
            if (openMenuBtn.classList.contains('option_container_clicked') 
            || openMenuBtn.classList.contains('option_container_expanded')) {
                window.location.href = 'about/';
            }
        });
        btnProjects.addEventListener('click', () => {
            if (openMenuBtn.classList.contains('option_container_clicked') 
            || openMenuBtn.classList.contains('option_container_expanded')) {
                window.location.href = 'projects/';
            }
        });
        btnContacts.addEventListener('click', () => {
            if (openMenuBtn.classList.contains('option_container_clicked') 
            || openMenuBtn.classList.contains('option_container_expanded')) {
                window.location.href = 'contacts/';
            }
        });

    </script>


</body>
</html>